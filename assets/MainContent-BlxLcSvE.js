import{a as j,r as p,j as e,T as v,H as g}from"./index-CiEQJ6jI.js";import{S as N,a as b,b as y,T as E,M as S}from"./MoodPlaylist-Ba_ck999.js";import"./singerService-Cl4N4K4k.js";const A="http://localhost:5000",u=(n,l=0)=>{if(typeof n=="number"&&Number.isFinite(n))return n;const i=Number(n);return Number.isFinite(i)?i:l},T=async(n=20)=>{try{const l=await j.get(`${A}/api/trending`,{params:{limit:n}});return(Array.isArray(l.data)?l.data:[]).map(t=>{const a=t.title??t.name??"Unknown",x=t.artist?typeof t.artist=="string"?{id:"unknown",name:t.artist}:{id:t.artist.id?t.artist.id.toString():"unknown",name:t.artist.name??"Unknown"}:{id:"unknown",name:"Unknown"},c=u(t.album?.id,0),r=t.album?.cover??t.cover??"";return{id:t.id??"unknown",name:a,title:a,artist:x,cover:r,album:{id:c,title:t.album?.title??"Unknown Album",link:t.album?.link??"",cover:r,cover_big:t.album?.cover_big,release_date:t.album?.release_date},preview:t.preview??null,full:t.full??null,link:t.link??"",duration:u(t.duration,0),rank:u(t.rank,0),release_date:t.release_date??t.album?.release_date??null}})}catch(l){return console.error("Error fetching trending songs:",l),[]}},z=()=>{const[n,l]=p.useState([]),[i,t]=p.useState(!1),[a,x]=p.useState(null);p.useEffect(()=>{let s=!0;return T(40).then(h=>{if(s){const w=(h??[]).map(o=>({...o,duration:o.duration??0,release_date:o.release_date??null,rank:o.rank??0}));l(w)}}).catch(()=>{s&&l([])}),()=>{s=!1}},[]);const c=s=>s.artist?typeof s.artist=="string"?s.artist:s.artist.name??"Unknown Artist":"Unknown Artist",r=7,f=n.slice(0,r),d=n.slice(r),m=({track:s})=>e.jsxs("div",{onClick:()=>x(s),className:"relative w-full h-[214px] flex flex-col justify-center items-center px-[15px] py-[4px] rounded-[10px] bg-[#1f1f1f] hover:bg-[#2a2a2a] cursor-pointer transition",children:[e.jsx("div",{className:"w-full h-[150px] rounded-[10px] bg-gray-700 overflow-hidden",children:s.cover&&e.jsx("img",{src:s.cover,alt:s.name,className:"w-full h-full object-cover"})}),e.jsx("p",{className:"w-full mt-2 text-white font-vazirmatn text-[16px] font-[500] text-left overflow-hidden whitespace-nowrap text-ellipsis",children:s.name}),e.jsx("p",{className:"w-full text-white font-vazirmatn text-[12px] font-[300] text-left opacity-80 overflow-hidden whitespace-nowrap text-ellipsis",children:c(s)})]});return e.jsxs("div",{className:"flex flex-col gap-6 relative w-full pt-[50px]",children:[e.jsxs("div",{className:"hidden xl:block",children:[e.jsxs("div",{className:"flex w-full items-center ",children:[e.jsx("div",{className:"flex flex-nowrap gap-6",children:f.map(s=>e.jsx("div",{className:"w-[175px] shrink-0",children:e.jsx(m,{track:s})},s.id))}),!i&&d.length>0&&e.jsxs("div",{className:"flex flex-col items-center justify-center cursor-pointer w-[175px] shrink-0 ",onClick:()=>t(!0),children:[e.jsx("div",{className:"w-[62px] h-[62px] flex justify-center items-center rounded-full bg-[#1E1E1E]",children:e.jsx("img",{src:"assets/icon/plus.png",className:"w-[24px] h-[24px]",alt:"View all"})}),e.jsx("p",{className:"w-fit text-white font-vazirmatn text-[16px] font-medium text-center mt-2",children:"View All"})]})]}),i&&d.length>0&&e.jsxs("div",{className:"flex flex-col gap-4 mt-6",children:[e.jsx("div",{className:"flex flex-wrap justify-start gap-6",children:d.map(s=>e.jsx("div",{className:"w-[175px]",children:e.jsx(m,{track:s})},s.id))}),e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx("button",{onClick:()=>t(!1),className:"px-6 py-2 rounded-lg cursor-pointer text-white font-bold bg-gradient-to-r from-pink-500 to-purple-500 hover:scale-105 transition",children:"Hide"})})]})]}),e.jsx("div",{className:"xl:hidden",children:e.jsx(N,{slidesPerView:"auto",spaceBetween:16,className:"w-full",children:n.map(s=>e.jsx(b,{style:{width:"175px"},children:e.jsx(m,{track:s})},s.id))})}),a&&e.jsx(v,{track:a,onClose:()=>x(null)})]})};function P(){return e.jsxs("div",{className:"px-[80px] flex-col flex pt-[48px] justify-start items-start box-border relative",children:[e.jsx("div",{className:"relative hidden xl:block",children:e.jsx("img",{src:"/assets/img/girl.png",className:"rounded-[40px] w-full max-w-[1550px] h-[550px] object-cover mx-auto"})}),e.jsx(g,{}),e.jsx("div",{className:"absolute z-1 pt-[148px] px-[55px] hidden xl:block",children:e.jsxs("div",{className:"w-[352px] h-[146px] flex flex-col p-[10px]",children:[e.jsxs("h2",{className:"w-[410px] h-[156px] font-vazirmatn text-[45px] font-extrabold pb-[36px] text-left text-white",children:["All the ",e.jsx("span",{className:"text-[#EE10B0]",children:"Best Songs"}),e.jsx("br",{}),"in One Place"]}),e.jsx("p",{className:"w-[410px] h-[76px] font-vazirmatn text-[15px] font-light text-justify opacity-[2px] text-white",children:"On our website, you can access an amazing collection of popular and new songs. Stream your favorite tracks in high quality and enjoy without interruptions. Whatever your taste in music, we have it all for you!"}),e.jsxs("div",{className:"flex gap-4 pt-[50px]",children:[e.jsx("button",{className:"w-[147px] h-[40px] flex justify-center items-center gap-[20px] px-[24px] pt-[5px] rounded-[4px] bg-[#EE10B0] text-white font-vazirmatn font-medium",children:"Discover Now"}),e.jsx("button",{className:"w-[152px] h-[40px] flex justify-center items-center px-[24px] pt-[5px] rounded-[4px] border border-[#0E9EEF] text-[#0E9EEF] font-vazirmatn font-medium whitespace-nowrap",children:"Create Playlist"})]})]})}),e.jsx("div",{className:"lg:pt-[74px] pt-[150px] md:pt-[150px] w-full",children:e.jsxs("p",{className:"w-[265px] h-[50px] font-vazirmatn text-[32px] text-white font-[700] text-left",children:["Trending ",e.jsx("span",{className:"text-[#EE10B0]",children:"Songs"})]})}),e.jsx(z,{}),e.jsx("div",{className:"pt-[74px] w-full",children:e.jsxs("p",{className:"w-[265px] h-[50px] font-vazirmatn text-[32px] text-white font-[700] text-left",children:["Popular ",e.jsx("span",{className:"text-[#EE10B0]",children:"Artist"})]})}),e.jsx(y,{}),e.jsx("div",{className:"pt-[74px] w-full",children:e.jsxs("p",{className:"w-[265px] h-[50px] font-vazirmatn text-[32px] text-white font-[700] text-left",children:["Top ",e.jsx("span",{className:"text-[#EE10B0]",children:"Albums"})]})}),e.jsx(E,{}),e.jsx("div",{className:"pt-[74px] w-full",children:e.jsxs("p",{className:"w-[265px] h-[50px] font-vazirmatn text-[32px] text-white font-[700] text-left",children:["Mood ",e.jsx("span",{className:"text-[#EE10B0]",children:"PlayList"})]})}),e.jsx(S,{})]})}export{P as default};
