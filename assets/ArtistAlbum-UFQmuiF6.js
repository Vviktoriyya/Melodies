import{r as m,j as e,T as f,u as j}from"./index-CiEQJ6jI.js";const w=({topTracks:r})=>{const[i,n]=m.useState(5),[a,c]=m.useState(null),d=()=>n(t=>t+5),p=()=>n(5),h=t=>{if(!t)return"—";const[l,o,u]=t.split("-");return!l||!o||!u?"—":`${u}.${o}.${l}`},s=t=>{if(!t&&t!==0)return"—";const l=Math.floor((t??0)/60),o=(t??0)%60;return`${l}:${o.toString().padStart(2,"0")}`},x=t=>t.artist?typeof t.artist=="string"?t.artist:t.artist.name??"Unknown Artist":"Unknown Artist";return e.jsxs("div",{className:"pt-[100px]",children:[e.jsx("h2",{className:"text-[40px] text-white font-[700] font-vazirmatn pl-[35px]",children:"Popular"}),e.jsxs("table",{className:"w-full mt-6 text-white font-vazirmatn text-[20px] border-separate border-spacing-y-2",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:"Track"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Release Date"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Played"}),e.jsx("th",{className:"px-6 py-3 text-left",children:"Time"})]})}),e.jsx("tbody",{children:r.slice(0,i).map((t,l)=>e.jsxs("tr",{onClick:()=>c(t),className:"bg-gray-800 hover:bg-gray-700 rounded-lg h-[60px] cursor-pointer",children:[e.jsx("td",{className:"px-6 py-0",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"w-[20px] text-right text-gray-400",children:l+1}),e.jsx("img",{src:t.cover,alt:t.name,className:"w-[60px] h-[60px] rounded-md"}),e.jsxs("div",{children:[e.jsx("div",{children:t.name}),e.jsx("div",{className:"text-gray-400 text-[14px]",children:x(t)})]})]})}),e.jsx("td",{children:h(t.release_date)}),e.jsx("td",{children:t.rank?t.rank.toLocaleString():"—"}),e.jsx("td",{children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{children:s(t.duration)})})})]},t.id))})]}),e.jsxs("div",{className:"flex justify-center pt-6 gap-4",children:[i<r.length&&e.jsx("button",{onClick:d,className:"px-6 py-2 rounded-lg text-white bg-gray-700 hover:bg-gray-600 transition",children:"View More"}),i>5&&e.jsx("button",{onClick:p,className:"px-6 py-2 rounded-lg text-white bg-gray-700 hover:bg-gray-600 transition",children:"Hide"})]}),a&&e.jsx(f,{track:a,onClose:()=>c(null)})]})},g="/Melodies/assets/icon/plus.png",v=({albums:r,isLoading:i})=>{const[n,a]=m.useState(!1),c=j();if(i)return e.jsx("div",{className:"pl-10 pt-4 text-white",children:"Loading albums..."});const d=n?r:r.slice(0,7),p=s=>{if(!s)return"—";const x=new Date(s);return isNaN(x.getTime())?"—":x.toLocaleDateString("uk-UA")},h=s=>{c(`/album/${s}`)};return e.jsxs("div",{className:"pt-[70px] w-full pl-[35px]",children:[e.jsx("h2",{className:"text-[40px] text-white font-[700] font-vazirmatn mb-[10px]",children:"Albums"}),e.jsxs("div",{className:"flex flex-row flex-wrap gap-[24px] items-center pt-[14px]",children:[d.map(s=>e.jsxs("div",{onClick:()=>h(s.id),className:`w-[165px] h-[214px] flex flex-col items-center bg-[#1f1f1f]\r
                                   hover:bg-[#2a2a2a] rounded-[10px] p-[10px] transition cursor-pointer`,children:[e.jsx("div",{className:"w-[145px] h-[150px] rounded-[10px] overflow-hidden bg-gray-700",children:e.jsx("img",{src:s.cover,alt:s.title,className:"w-full h-full object-cover rounded-[10px]"})}),e.jsx("p",{className:`mt-2 text-white text-[16px] font-[500]\r
                                       text-center w-[145px] truncate`,title:s.title,children:s.title}),e.jsx("p",{className:`text-white text-[12px] font-[300] opacity-80\r
                                       text-center w-[145px] truncate`,children:p(s.release_date)})]},s.id)),!n&&r.length>7&&e.jsxs("div",{className:"flex flex-col items-center cursor-pointer",onClick:()=>a(!0),children:[e.jsx("div",{className:"w-[62px] h-[62px] flex justify-center items-center bg-[#1E1E1E] rounded-full",children:e.jsx("img",{src:g,className:"w-[24px] h-[24px]",alt:"View more"})}),e.jsx("p",{className:"text-white mt-2 text-[16px] font-medium",children:"View All"})]})]}),n&&e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx("button",{onClick:()=>a(!1),className:`px-6 py-2 rounded-lg text-white font-bold\r
                                   bg-gradient-to-r from-pink-500 via-purple-500 to-pink-500\r
                                   hover:scale-105 transition`,children:"Hide"})})]})};export{v as A,w as T};
