import{r,f as j,j as e,H as g,T as N}from"./index-CiEQJ6jI.js";function y(){const[a,u]=r.useState(null),[p,i]=r.useState(!0),[o,c]=r.useState(null),[d,x]=r.useState(null),n=r.useCallback(async()=>{try{i(!0),c(null);const t=await j();u(t)}catch(t){console.error(t),c("Failed to load the album :(")}finally{i(!1)}},[]);r.useEffect(()=>{n()},[n]);const f=t=>{if(t==null)return"—";const l=Math.floor(t/60),s=t%60;return`${l}:${s.toString().padStart(2,"0")}`},m=t=>{if(!t)return"—";const l=new Date(t);if(Number.isNaN(l.getTime()))return t;const s=l.getDate().toString().padStart(2,"0"),b=(l.getMonth()+1).toString().padStart(2,"0"),v=l.getFullYear();return`${s}.${b}.${v}`},h=t=>{const l=a?.cover_xl??a?.cover_big??"",s=a?.release_date??"";return{id:t.id,title:t.title,name:t.title,link:"",duration:t.duration??0,rank:t.rank??0,artist:{id:String(t.artist?.id??"0"),name:t.artist?.name??"Unknown Artist"},cover:l,release_date:s,album:{id:a?.id??0,title:a?.title??"",link:"",cover:l,release_date:s},preview:t.preview??null}};return p?e.jsx("p",{className:"text-center mt-10",children:"Loading..."}):o?e.jsx("p",{className:"text-center mt-10 text-red-500",children:o}):a?e.jsxs("div",{className:"relative min-h-screen text-white overflow-hidden",children:[e.jsx("div",{className:"relative z-20",children:e.jsx(g,{})}),e.jsx("div",{className:"absolute inset-0 w-full h-full",style:{background:"linear-gradient(91.68deg, rgba(16,113,226,1), rgba(82,172,213,0.02) 98%, rgba(139,203,230,0) 100%)",opacity:.6,zIndex:0}}),e.jsx("main",{className:"relative z-10 w-full mx-auto px-4 pt-[110px] flex flex-col justify-center items-center",children:e.jsxs("div",{className:"rounded-[10px] p-8  w-full flex flex-col items-center",children:[e.jsx("img",{src:a.cover_xl||a.cover_big,alt:a.title,className:"w-[300px] h-[300px] object-cover rounded-2xl shadow-lg mb-6"}),e.jsx("h2",{className:"text-2xl font-bold mb-2 text-white",children:a.title}),e.jsxs("p",{className:"text-lg text-gray-300 mb-4",children:[a.artist.name," • ",m(a.release_date)]}),e.jsxs("button",{onClick:n,className:"relative inline-block px-10 py-3 mb-8 font-bold text-zinc-300 border-2 border-fuchsia-600 rounded-xl transition-all duration-300 ease-in-out overflow-hidden shadow-[0_0_15px_rgba(217,70,239,0.5)]",children:[e.jsxs("div",{className:"absolute inset-0 opacity-100",children:[e.jsx("span",{className:"absolute top-1/2 left-1/4 w-4 h-4 bg-fuchsia-500 rounded-full blur-md animate-float-up"}),e.jsx("span",{className:"absolute top-1/3 left-2/3 w-2 h-2 bg-purple-500 rounded-full blur-sm animate-float-down",style:{animationDelay:"-4s"}}),e.jsx("span",{className:"absolute top-2/3 left-1/3 w-3 h-3 bg-fuchsia-400 rounded-full blur-sm animate-float-up",style:{animationDelay:"-2s"}}),e.jsx("span",{className:"absolute top-1/2 left-3/4 w-2 h-2 bg-purple-400 rounded-full blur-md animate-float-down",style:{animationDelay:"-6s"}})]}),e.jsx("span",{className:"relative cursor-pointer flex items-center justify-center gap-2",children:"Generate Another Album"})]}),e.jsxs("div",{className:"w-full flex flex-col",children:[e.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[e.jsxs("div",{className:"flex w-full text-left text-white font-semibold px-4 py-2 ",children:[e.jsx("div",{className:"w-[50px]"}),e.jsx("div",{className:"flex-1"}),e.jsx("div",{className:"w-[200px]",children:"Artist"}),e.jsx("div",{className:"w-[150px]",children:"Release Date"}),e.jsx("div",{className:"w-[80px]",children:"Time"})]}),a.tracks.data.map((t,l)=>e.jsxs("div",{onClick:()=>x(h(t)),className:"flex w-full items-center gap-2 cursor-pointer transition-colors duration-300 rounded-[5px] px-4",children:[e.jsx("div",{className:"w-[50px] text-center text-[24px] font-semibold leading-[100%] tracking-[0%] text-white font-[Vazirmatn]",children:l+1}),e.jsxs("div",{className:"flex flex-1 items-center gap-2 bg-[rgba(30,30,30,1)] hover:bg-[rgba(50,50,50,1)] rounded-[5px] py-2",children:[e.jsxs("div",{className:"flex-1 flex items-center gap-3 pl-3 pr-3",children:[e.jsx("img",{src:a.cover_medium||a.cover_big||a.cover_xl,alt:t.title,className:"w-[50px] h-[50px] object-cover rounded-[5px]"}),e.jsx("span",{children:t.title})]}),e.jsx("div",{className:"w-[200px] flex-shrink-0",children:t.artist?.name??"—"}),e.jsx("div",{className:"w-[150px] flex-shrink-0",children:m(a.release_date)}),e.jsx("div",{className:"w-[80px] flex-shrink-0 pr-3",children:f(t.duration)})]})]},t.id))]}),d&&e.jsx(N,{track:d,onClose:()=>x(null)})]})]})})]}):e.jsx("p",{className:"text-center mt-10",children:"Album not found"})}export{y as default};
