import{d as h,r as g,c as v,j as e,H as j,T as b,a as N}from"./index-CiEQJ6jI.js";const k=()=>{const{id:r}=h(),[i,n]=g.useState(null),{data:t,isLoading:d,isError:x}=v({queryKey:["album",r],queryFn:async()=>(await N.get(`/api/album/${r}`)).data,enabled:!!r});if(d)return e.jsx("p",{className:"mt-10 text-center",children:"Loading album..."});if(x)return e.jsx("p",{className:"mt-10 text-center text-red-500",children:"Error loading album :("});if(!t)return e.jsx("p",{className:"mt-10 text-center",children:"Album not found."});const o=t.tracks?.data||[],m=s=>{if(s==null)return"—";const a=Math.floor(s/60),l=s%60;return`${a}:${l.toString().padStart(2,"0")}`},c=s=>{if(!s)return"—";const a=new Date(s);if(Number.isNaN(a.getTime()))return s;const l=a.getDate().toString().padStart(2,"0"),p=(a.getMonth()+1).toString().padStart(2,"0"),f=a.getFullYear();return`${l}.${p}.${f}`},u=s=>{const a=t.cover_xl||t.cover_big,l=t.release_date;return{id:s.id,title:s.title,name:s.title,link:"",duration:s.duration??0,rank:s.rank??0,artist:{id:String(s.artist?.id??"0"),name:s.artist?.name??"Unknown Artist"},cover:a,release_date:l??null,album:{id:t.id,title:t.title,link:"",cover:a,release_date:l??null},preview:s.preview??null}};return e.jsxs("div",{className:"min-h-screen bg-[#0f0f0f] text-white relative",children:[e.jsx("div",{className:"relative z-20",children:e.jsx(j,{})}),e.jsx("div",{className:"absolute inset-0 w-full h-full z-0",style:{background:"linear-gradient(180deg, rgba(17, 113, 226, 1) 0%, rgba(83, 173, 214, 0.02) 40%, rgba(15, 15, 15, 0) 100%)",opacity:.6}}),e.jsx("main",{className:"relative z-10 w-full px-[70px] pt-[110px] pb-20",children:e.jsxs("div",{className:"rounded-[10px] p-8 w-full flex flex-col items-center",children:[e.jsxs("header",{className:"mb-10 flex flex-col items-center text-center",children:[e.jsx("img",{src:t.cover_xl||t.cover_big,alt:t.title,className:"mb-4 h-60 w-60 rounded-2xl object-cover shadow-lg"}),e.jsx("h1",{className:"text-3xl font-bold",children:t.title}),e.jsx("p",{className:"mt-1 text-lg text-gray-300",children:t.artist?.name}),e.jsxs("p",{className:"mt-1 text-sm text-gray-400",children:["Released: ",c(t.release_date)]})]}),e.jsx("div",{className:"w-full flex flex-col pt-5",children:e.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[e.jsxs("div",{className:"flex w-full text-left text-white font-semibold px-4 py-2 ",children:[e.jsx("div",{className:"w-[50px]"}),e.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[e.jsx("div",{className:"flex-1 pl-3 pr-3",children:"Title"}),e.jsx("div",{className:"w-[200px] flex-shrink-0",children:"Artist"}),e.jsx("div",{className:"w-[150px] flex-shrink-0",children:"Release Date"}),e.jsx("div",{className:"w-[80px] flex-shrink-0 pr-3",children:"Time"})]})]}),o.map((s,a)=>e.jsxs("div",{onClick:()=>n(u(s)),className:"flex w-full items-center gap-2 cursor-pointer transition-colors duration-300 rounded-[5px] px-4",children:[e.jsx("div",{className:"w-[50px] text-center text-[24px] font-semibold leading-[100%] tracking-[0%] text-white",children:a+1}),e.jsxs("div",{className:"flex flex-1 items-center gap-2 bg-[rgba(30,30,30,1)] hover:bg-[rgba(50,50,50,1)] rounded-[5px] py-2",children:[e.jsxs("div",{className:"flex-1 flex items-center gap-3 pl-3 pr-3",children:[e.jsx("img",{src:t.cover_medium||t.cover_big||t.cover_xl,alt:s.title,className:"w-[50px] h-[50px] object-cover rounded-[5px]"}),e.jsx("span",{children:s.title})]}),e.jsx("div",{className:"w-[200px] flex-shrink-0",children:s.artist?.name??"—"}),e.jsx("div",{className:"w-[150px] flex-shrink-0",children:c(t.release_date)}),e.jsx("div",{className:"w-[80px] flex-shrink-0 pr-3",children:m(s.duration)})]})]},s.id))]})}),i&&e.jsx(b,{track:i,onClose:()=>n(null)})]})})]})};export{k as default};
